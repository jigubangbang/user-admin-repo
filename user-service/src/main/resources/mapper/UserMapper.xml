<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.jigubangbang.user_service.mapper.UserMapper">
    <!-- Security 인증용 사용자 정보 조회 -->
    <select id="findAuthById" resultType="com.jigubangbang.user_service.model.AuthDto">
        SELECT
            user_id AS id,
            password,
            role,
            user_status AS status
        FROM user
        WHERE user_id = #{userId}
    </select>

    <!-- 일반 사용자 정보 조회 -->
    <select id="findUserById" resultType="com.jigubangbang.user_service.model.UserDto">
        SELECT
            user_id AS id,
            name,
            role
        FROM user
        WHERE user_id = #{userId}
    </select>
</mapper>
